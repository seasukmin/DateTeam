!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){function t(t,n){if(!t)throw new Error("Invariant failed")}let n;const i=new Uint8Array(16);function e(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const o=[];for(let t=0;t<256;++t)o.push((t+256).toString(16).slice(1));var r={t:"undefined"!=typeof crypto&&crypto.t&&crypto.t.bind(crypto)};function u(t,n,i){if(r.t&&!n&&!t)return r.t();const u=(t=t||{}).random||(t.i||e)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,n){i=i||0;for(let t=0;t<16;++t)n[i+t]=u[t];return n}return function(t,n=0){return(o[t[n+0]]+o[t[n+1]]+o[t[n+2]]+o[t[n+3]]+"-"+o[t[n+4]]+o[t[n+5]]+"-"+o[t[n+6]]+o[t[n+7]]+"-"+o[t[n+8]]+o[t[n+9]]+"-"+o[t[n+10]]+o[t[n+11]]+o[t[n+12]]+o[t[n+13]]+o[t[n+14]]+o[t[n+15]]).toLowerCase()}(u)}var c=["ViewPage","CompleteRegistration","Login","ViewContent","AddToCart","Purchase","Lead","SubmitApplication","Install"];function a(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)t[e]=i[e]}return t}var s=function t(n,i){function e(t,e,o){if("undefined"!=typeof document){"number"==typeof(o=a({},i,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var u in o)o[u]&&(r+="; "+u,!0!==o[u]&&(r+="="+o[u].split(";")[0]));return document.cookie=t+"="+n.write(e,t)+r}}return Object.create({set:e,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var i=document.cookie?document.cookie.split("; "):[],e={},o=0;o<i.length;o++){var r=i[o].split("="),u=r.slice(1).join("=");try{var c=decodeURIComponent(r[0]);if(e[c]=n.read(u,c),t===c)break}catch(t){}}return t?e[t]:e}},remove:function(t,n){e(t,"",a({},n,{expires:-1}))},o:function(n){return t(this.u,a({},this.attributes,n))},h:function(n){return t(a({},this.u,n),this.attributes)}},{attributes:{value:Object.freeze(i)},u:{value:Object.freeze(n)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),d=/*#__PURE__*/function(){function n(t,n,i){this.p=void 0,this.m=void 0,this.C=void 0,this.p=t,this.m=n,this.C=i}return n.g=function(i){var e=i.split("|"),o=e[1],r=e[2],u=e[3];t(e[0]===this.prefix),t(null!==o||""!==o);var c=parseInt(r);return t(!isNaN(c)),t(null!==u||""!==u),new n(c,u,o)},n.prototype.R=function(){return[n.prefix,this.C,this.p,this.m].join("|")},n}();d.prefix="km";var f=/*#__PURE__*/function(){function n(){}var i=n.prototype;return i.U=function(i){t([n.I,n.k].includes(i))},i.D=function(){return"http"===window.location.protocol.substring(0,"http".length)},i.get=function(t){this.U(t);var n=s.get(t);return n?d.g(n):void 0},i.S=function(t,n){var i=this;this.U(t);var e=window.location.hostname.split("."),o=Date.now();e.forEach(function(r,u){var c=e.slice(u).join("."),a=new d(o,n,c);s.set(t,a.R(),{domain:c,expires:90,L:"Lax",path:"/"}),i.get(t)})},i.O=function(t,n,i){this.U(t);var e=Date.now(),o=new d(e,n,i);s.set(t,o.R(),{domain:i,expires:90,L:"Lax",path:"/"})},n}();f.k="_kmpid",f.I="_kmcid";var h=/*#__PURE__*/function(){function t(){}var n=t.prototype;return n.A=function(t){var n,i,e,o;return JSON.parse(JSON.stringify(((o={}).id=t.id,o.uid=t.uid,o.cid=t.cid,o.et=t.et,o.rl=t.rl,o.l=t.l,o.ts=t.ts.toString(),o.pl=JSON.stringify(((i={}).tag=t.pl.tag,i.keyword=t.pl.keyword,i.id=t.pl.id,i.total_quantity=t.pl.total_quantity,i.total_price=t.pl.total_price,i.currency=t.pl.currency,i.products=null==(n=t.pl.products)?void 0:n.map(function(t){var n;return(n={}).id=t.id,n.name=t.name,n.quantity=t.quantity,n.price=t.price,n}),i)),o.md=JSON.stringify(((e={}).sw=t.md.sw,e.sh=t.md.sh,e.ec=t.md.ec,e.it=t.md.it,e.v=t.md.v,e)),o)))},n.N=function(n){var i=new URLSearchParams(this.A(n));return t.j+"?"+i.toString()},n.B=function(t){var n=this.N(t);navigator.sendBeacon(n)},n.J=function(t){var n=this.N(t),i=new XMLHttpRequest;i.open("GET",n),i.send()},t}();h.j="https://collect.kr.karrotmarket.com/p/c";var v,p=/*#__PURE__*/function(){function t(t,n,i){void 0===t&&(t=new Map),void 0===n&&(n=Date.now()),void 0===i&&(i=new h),this.F=void 0,this.initialTime=void 0,this.P=void 0,this.F=t,this.initialTime=n,this.P=i}var n=t.prototype;return n.metadata=function(t){var n;return{sw:window.screen.width,sh:window.screen.height,ec:null!=(n=this.F.get(t))?n:0,it:this.initialTime,v:"0.3.0"}},n.V=function(t,n,i,e,o){var r={id:i,uid:e,cid:o,et:t,rl:window.document.referrer,l:window.location.href,ts:Date.now(),pl:n,md:this.metadata(t)};window.navigator?this.P.B(r):this.P.J(r)},t}();null!=(v=window)&&v.karrotPixel||(window||document)&&(window.karrotPixel=new(/*#__PURE__*/function(){function n(){this.M=void 0,this.T=void 0,this._=void 0,this.M=new p,this.T=new f,this.q()}var i=n.prototype;return i.q=function(){var t,n=this.G();this.T.D()&&((null==(t=this.T.get(f.k))?void 0:t.R())||this.T.S(f.k,this.H()),n&&this.X(n))},i.X=function(t){var n=this.T.get(f.I);n?this.T.O(f.I,t,n.C):this.T.S(f.I,t)},i.G=function(){return new URL(window.location.href).searchParams.get("kmckid")},i.H=function(){return u()},i.track=function(n,i){void 0===i&&(i={}),t(this._),t(c.includes(n));var e=this.T.get(f.I),o=this.T.get(f.k);this.M.V(n,i,this._,o.R(),null==e?void 0:e.R())},i.init=function(t){this._=t},n}()))});
