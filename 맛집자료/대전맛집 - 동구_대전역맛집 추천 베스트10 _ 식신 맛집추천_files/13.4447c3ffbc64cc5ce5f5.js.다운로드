webpackJsonp([13],{900:function(e,t,a){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c,i,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),p=a(0),d=r(p),f=a(2),m=a(127),h=a(951),v=r(h),g=a(8),y=r(g),b=a(963),P=r(b),O=a(3),H=r(O),I=a(27),j=(r(I),a(109)),_=r(j),A=(c=(0,f.inject)(["appStore"]))(i=function(t){function a(){var e,t,r,l;n(this,a);for(var c=arguments.length,i=Array(c),s=0;s<c;s++)i[s]=arguments[s];return t=r=o(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(i))),r.moreItem=function(e,t){var a=r.props,n=a.appStore,o=a.location;Object.assign(n.params[t],e),Object.assign(n.params[t],o.query),n.moreItem(n.params[t],t)},l=t,o(r,l)}return l(a,t),u(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.appStore,r=e.location;a.loadItems(t,!1,r.query)}},{key:"shouldComponentUpdate",value:function(e,t){var r=this.props.appStore,n=s({},this.props.location.query),o=s({},e.location.query);return(0,v.default)(n,o)||a.loadItems(r,!0,o),!1}},{key:"componentWillUnmount",value:function(){var e=this.props.appStore;(0,P.default)(e),e.coords=null,e.areaRecTag=null,e.recHotPlace=null,e.couponList=null,e.themeHotPlace=null,e.storyHotPlace=null}},{key:"render",value:function(){var e=this.props,t=e.location,a=e.appStore;a.webview;return d.default.createElement("div",{id:"contents"},d.default.createElement("div",{className:"sub_contents"},d.default.createElement("div",{className:"taste_find_cnt"},d.default.createElement(m.TasteHeader,null),!(0,y.default)()&&d.default.createElement(m.MapHotPlace,null),d.default.createElement("div",{className:"taste_center"},d.default.createElement(_.default.Google,{style:{display:"block",textAlign:"center",height:"150px"},client:"ca-pub-4170915312616708",slot:"3027754836",format:"fluid",responsive:"true"})),"Y"!==t.query.ignoreLocYn&&d.default.createElement(m.RecTagList,{_name:"areaRecTag",_text:(0,H.default)("area.recommand.tag")}),d.default.createElement(m.BannerBox,{_type:"02",area:(0,y.default)()?"07":"10"}),d.default.createElement(m.BannerBox,{_type:"07",ord:"1",area:(0,y.default)()?"11":"13"}),d.default.createElement(m.RecHotPlace,{moreItem:this.moreItem}),d.default.createElement(m.CouponList,{moreItem:this.moreItem}),d.default.createElement(m.ThemeHotPlace,{moreItem:this.moreItem}),d.default.createElement(m.StoryHotPlace,{moreItem:this.moreItem}),d.default.createElement(m.AreaLayer,null),d.default.createElement(m.FilterLayer,{_options:["sort","dist","theme","service","confirmed"]}),d.default.createElement(m.CouponLayer,null),d.default.createElement(m.ReviewPhotoLayer,null))))}}],[{key:"setParam",value:function(e,t){var a=Object.assign({upHpAreaId:e.currentArea.list[0].upHpAreaId,hpAreaId:e.currentArea.list[0].list[0].hpAreaId,lat:e.coords?e.coords.lat:"",lng:e.coords?e.coords.lng:"",dist:e.dist},t);Object.assign(e.params,{areaRecTag:Object.assign({idx:0,limit:10},a),areaRecTagByName:Object.assign({names:"백년가게"},a),recHotPlace:Object.assign({idx:0,limit:30,adYn:"Y",sort:"P"},a),deliveryHotPlace:Object.assign({idx:0,limit:(0,y.default)()?4:3,sort:"P"},a),couponList:Object.assign({idx:0,limit:4,sort:"T"},a),themeHotPlace:Object.assign({idx:0,limit:(0,y.default)()?4:3,magazineYn:"Y",sort:"P"},a),storyHotPlace:Object.assign({idx:0,limit:5,sort:"T"},a),snsHotPlace:Object.assign({idx:0,limit:6,sort:"P"},a)});var r=["P","V","D","R","A"],n=["T","D"];r.includes(a.sort)||(delete e.params.recHotPlace.sort,delete e.params.themeHotPlace.sort),n.includes(a.sort)||delete e.params.couponList.sort}},{key:"loadItems",value:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments[2],o=[{api:"/hp/area/tag",variable:"areaRecTag"},{api:"/hp/area/tag/names",variable:"areaRecTagByName"},{api:"/hp",variable:"recHotPlace"},{api:"/coupon",variable:"couponList"},{api:"/hp",variable:"themeHotPlace",rerender:(0,y.default)()},{api:"/story/hpArea",variable:"storyHotPlace"}];return(0,P.default)(t,n,r).then(function(){return a.setParam(t,n),t.multipleAction(o.map(function(a){return t.getItem(""+e.config.api+a.api,t.params[a.variable],a.variable,a.rerender||r)})).then(function(){var e=0;t.recHotPlace.cnt>0&&(e++,t.tasteHeaderOrd.recHotPlace=e),t.couponList.cnt>0&&(e++,t.tasteHeaderOrd.couponList=e),t.themeHotPlace.cnt>0&&(e++,t.tasteHeaderOrd.themeHotPlace=e),t.storyHotPlace.cnt>0&&(e++,t.tasteHeaderOrd.storyHotPlace=e),t.tasteHeaderOrd.menu_cnt=e,t.searchByFilter&&(0===e&&"undefined"!=typeof window&&alert((0,H.default)("alert.search.result.no")),t.searchByFilter=!1)})})}},{key:"preServerRender",value:function(e){return a.loadItems(e,!0,e.req.query)}}]),a}(d.default.Component))||i;t.default=A}).call(t,a(7))},951:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(a.length!=r.length)return!1;for(var n=0;n<a.length;n++){var o=a[n];if(e[o]!==t[o])return!1}return!0};t.default=r},963:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=a(21),n=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a.lat&&a.lng?t.getItem(e.config.api+"/hp/area",{lat:a.lat,lng:a.lng},"currentArea",n):a.upHpAreaId?t.selectItem(e.config.api+"/hp/area",{upHpAreaId:a.upHpAreaId}).then(function(e){var n=e.data;a.hpAreaId&&n.list[0].list.map(function(e){a.hpAreaId==e.hpAreaId&&(n.list[0].list=[e])}),t.currentArea=(0,r.observable)({list:n.list,cnt:n.cnt})}):t.getItem(e.config.api+"/hp/area",{lat:37.519155,lng:127.051692},"currentArea",n)};t.default=n}).call(t,a(7))}});