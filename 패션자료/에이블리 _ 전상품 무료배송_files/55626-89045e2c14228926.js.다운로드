"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[55626],{55626:function(e,t,n){n.d(t,{A:function(){return y},t:function(){return j}});var r=n(61261),l=n(91987),o=n(80808),u=n(80833),i=n(9759),c=n(74572),a=n(39720),s=n(46933),d=n(67438),f=n(7187),p=n(24362),m=n(27573),h=n(92281),v=n(28848),b=n(81762);let _=(0,l.createContext)({onClose:()=>{}}),useAblyBottomSheetContext=()=>(0,l.useContext)(_);function _tagged_template_literal(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _templateObject(){let e=_tagged_template_literal(["\n  overflow: hidden;\n  height: 100%;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=_tagged_template_literal(["\n  user-select: none;\n  height: 100%;\n  overflow: scroll;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n"]);return _templateObject1=function(){return e},e}let Swipable=e=>{let{children:t,viewPortRef:n,scrollboxRef:l,className:o,...u}=e;return(0,r.jsx)(g,{ref:n,children:(0,r.jsx)("div",{className:o,ref:l,...u,children:t})})},Scrollable=e=>{let{children:t,...n}=e;return(0,r.jsx)(w,{...n,children:t})},g=o.default.div.withConfig({componentId:"sc-54c1dd61-0"})(_templateObject()),w=o.default.div.withConfig({componentId:"sc-54c1dd61-1"})(_templateObject1());function AblyBottomSheet_tagged_template_literal(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function AblyBottomSheet_templateObject(){let e=AblyBottomSheet_tagged_template_literal(["\n  z-index: ",";\n  background: ",";\n  transition: background-color 0.3s;\n\n  position: fixed;\n  bottom: 0px;\n  width: 100%;\n  max-width: ","px;\n  height: 100vh;\n"]);return AblyBottomSheet_templateObject=function(){return e},e}function AblyBottomSheet_templateObject1(){let e=AblyBottomSheet_tagged_template_literal(["\n  width: 100%;\n"]);return AblyBottomSheet_templateObject1=function(){return e},e}function _templateObject2(){let e=AblyBottomSheet_tagged_template_literal(["\n  flex: 1;\n  overflow: ",";\n"]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=AblyBottomSheet_tagged_template_literal(["\n  width: 100%;\n"]);return _templateObject3=function(){return e},e}function _templateObject4(){let e=AblyBottomSheet_tagged_template_literal(["\n  z-index: ",";\n  border-radius: ",";\n  overflow: ",";\n  position: fixed;\n  background: white;\n  width: 100%;\n  max-width: ","px;\n  margin: auto;\n  // default 90vh, css prop으로 덮어쓸 수 있음\n  height: ",";\n  bottom: 0;\n  border-bottom: none !important;\n  display: flex;\n  flex-direction: column;\n"]);return _templateObject4=function(){return e},e}function _templateObject5(){let e=AblyBottomSheet_tagged_template_literal(["\n  position: absolute;\n  width: 100%;\n  height: 100vh;\n  bottom: -100vh;\n  left: 0px;\n  background-color: white;\n"]);return _templateObject5=function(){return e},e}function _templateObject6(){let e=AblyBottomSheet_tagged_template_literal([void 0,void 0]);return _templateObject6=function(){return e},e}let j=(0,l.forwardRef)((e,t)=>{let{header:n=null,footer:o=null,className:u,isDimmedOnOpen:i=!0,isBackdropClickDisabled:c=!1,isBackbuttonClosable:a=!0,bodyScrollType:h="swipe",children:g,animationDuration:w=100,initialPosition:j,openedPosition:y="0%",closedPosition:R="100%",threshold:Y={open:0,close:0},onOpen:B,onClose:P,resetScrollOnOpen:D=!0,isBackgroundScrollable:I=!1,onTransitionEnd:L,zIndex:z,round:k=!1,autoHeight:T=!1}=e,H=(0,l.useRef)(null),[M,N]=(0,l.useState)(!!j&&"initial"),F=(0,l.useRef)(M),[K,Q]=(0,l.useState)(!!j);(0,l.useEffect)(()=>{F.current=M},[M]);let{addCustomHistory:$,removeCustomHistory:q}=(0,s.K)(()=>{null==P||P(),N(!1)}),{disableBodyScroll:V,enableBodyScroll:G}=(0,m.o)();(0,l.useEffect)(()=>{I||(M?V():G())},[V,G,M,I]);let handleOpen=()=>{!b.rt.isIOS&&a&&$(),null==B||B(),N(!0)},handleClose=async()=>{if(!b.rt.isIOS&&a){await q();return}null==P||P(),N(!1)};(0,l.useImperativeHandle)(t,()=>({open:()=>{handleOpen()},close:async()=>{await handleClose()},bodyRef:H.current})),(0,d.b)(()=>{j&&!b.rt.isIOS&&a&&$()});let fireFinalAnimation=e=>{if(e<Y.open){handleOpen();return}if(e>Y.close){handleClose();return}},J="swipe"===h,{viewPortRef:U,isScrollTopRef:W,scrollBoxRef:X}=(0,f.v)({resetDeps:D?[M]:[]}),{swipeRef:Z,targetRef:ee}=(0,p.Y)({onTouchEnd:fireFinalAnimation,condition:e=>!!J&&e>0&&(W.current||!F.current)}),{swipeRef:et}=(0,p.Y)({onTouchEnd:fireFinalAnimation,condition:e=>!!et.current&&!!J&&("initial"===F.current?0!==e:F.current?e>0:e<0)}),en=(0,v.l)([X,Z]),er=(0,v.l)([et,ee]);return(0,r.jsxs)(_.Provider,{value:{onClose:handleClose},children:[(0,r.jsx)(x,{isMounted:K,isDimmed:i&&!!M,isOpen:!!M,zIndex:z,onTransitionEnd:()=>{Q(!!M)},onClick:e=>{c||(e.stopPropagation(),handleClose())}}),(0,r.jsxs)(A,{type:"slideVertical",open:M,initialPosition:j,openedPosition:y,duration:w,closedPosition:R,className:u,onTransitionEnd:L,ref:J?er:null,$_css:bodyCSS({zIndex:z,round:k,autoHeight:T}),children:[(0,r.jsx)(O,{children:n}),(0,r.jsx)(S,{ref:H,isSwipeScroll:J,children:J?(0,r.jsx)(Swipable,{viewPortRef:U,scrollboxRef:en,children:g}):(0,r.jsx)(Scrollable,{children:g})}),(0,r.jsx)(E,{children:o}),(0,r.jsx)(C,{})]})]})}),y=Object.assign((0,l.forwardRef)((e,t)=>(0,r.jsx)(c.h,{target:(0,h.aB)()?document.getElementById("root"):null,children:(0,r.jsx)(j,{...e,ref:t})})),{Header:e=>{let{}=e,{onClose:t}=useAblyBottomSheetContext();return null}}),x=o.default.div.withConfig({componentId:"sc-f875d5ad-0"})(AblyBottomSheet_templateObject(),e=>{let{isOpen:t,isMounted:n,zIndex:r}=e;return t?null!=r?r:u.KN.innerDrawer:n?null!=r?r:u.KN.innerDrawer:-1},e=>{let{isDimmed:t}=e;return t?"rgba(0, 0, 0, 0.5)":"transparent"},i.Qd),O=o.default.div.withConfig({componentId:"sc-f875d5ad-1"})(AblyBottomSheet_templateObject1()),S=o.default.div.withConfig({componentId:"sc-f875d5ad-2"})(_templateObject2(),e=>{let{isSwipeScroll:t}=e;return t?"hidden":"scroll"}),E=o.default.div.withConfig({componentId:"sc-f875d5ad-3"})(_templateObject3()),bodyCSS=e=>{let{zIndex:t,round:n,autoHeight:r}=e;return(0,o.css)(_templateObject4(),null!=t?t:u.KN.innerDrawer,n&&"16px 16px 0px 0px",n?"hidden":"visible",i.Qd,r?"unset":"90vh")},C=o.default.div.withConfig({componentId:"sc-f875d5ad-4"})(_templateObject5());var A=(0,o.default)(a.u).withConfig({componentId:"sc-f875d5ad-5"})(_templateObject6(),e=>e.$_css)},7187:function(e,t,n){n.d(t,{v:function(){return useScroll}});var r=n(91987),l=n(67438),o=n(67528);let useScroll=function(){let{resetDeps:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.useRef)(null),n=(0,r.useRef)(!0),u=(0,r.useRef)(0),i=(0,r.useRef)(0),c=(0,r.useRef)(null),a=(0,r.useRef)(0),s=(0,r.useRef)(0),d=(0,r.useRef)(!1);return(0,l.b)(()=>{var e,r,l;let initialize=e=>{null!==t.current&&(u.current=e.touches[0].pageY,a.current=u.current,s.current=Date.now(),d.current=!0,t.current.style.setProperty("transition","none","important"))},translateY=e=>{if(e.preventDefault(),null===c.current||null===t.current)return;d.current&&(i.current=(0,o.m)(t.current).y,d.current=!1),a.current=e.touches[0].pageY;let r=e.touches[0].pageY-u.current,l=i.current+r,s=t.current.clientHeight-c.current.clientHeight;!n.current&&l>=0&&(n.current=!0),l<0&&n.current&&(n.current=!1),l<0&&s>Math.abs(l)&&t.current.style.setProperty("transform","translateY(".concat(l,"px)"),"important")},fireTouchEndAnimation=()=>{if(null===c.current||null===t.current)return;let e=Date.now()-s.current,n=t.current.clientHeight-c.current.clientHeight;if(e<200&&n>0){let e=a.current-u.current,n=e/(Date.now()-s.current);i.current=(0,o.m)(t.current).y;let r=i.current+500*n,l=t.current.clientHeight-c.current.clientHeight,d=Math.abs((0,o.m)(t.current).y),f=l+(0,o.m)(t.current).y,p=r>-50,m=Math.abs(r)>l-50;t.current.style.setProperty("transform","translateY(".concat(p?0:m?-l:r,"px)"),"important"),t.current.style.setProperty("transition","transform ".concat(p||m?500*Math.abs(("top"==(n>0?"top":"bottom")?d:f)/(500*n)):500,"ms ease-out"),"important")}};return null===(e=t.current)||void 0===e||e.addEventListener("touchstart",initialize),null===(r=t.current)||void 0===r||r.addEventListener("touchmove",translateY),null===(l=t.current)||void 0===l||l.addEventListener("touchend",fireTouchEndAnimation),()=>{var e,n,r;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",initialize),null===(n=t.current)||void 0===n||n.removeEventListener("touchmove",translateY),null===(r=t.current)||void 0===r||r.removeEventListener("touchend",fireTouchEndAnimation)}}),(0,r.useEffect)(()=>{null!==t.current&&(t.current.style.transform="translateY(0%)")},e),{viewPortRef:c,isScrollTopRef:n,scrollBoxRef:t}}},24362:function(e,t,n){n.d(t,{Y:function(){return useSwipe}});var r=n(91987),l=n(67438),o=n(67528);let useSwipe=function(){let{onTouchEnd:e,condition:t=()=>!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,r.useRef)(null),u=(0,r.useRef)(null),i=(0,r.useRef)(0),c=(0,r.useRef)(0),a=(0,r.useRef)(0),s=(0,r.useRef)(!1),d=(0,r.useRef)(0);return(0,l.b)(()=>{var r,l;let f=new CustomEvent("swipe"),translateY=()=>{var e,r;if(s.current){if(t(a.current))null===(e=u.current||n.current)||void 0===e||e.style.setProperty("transform","translateY(".concat(d.current+a.current,"px)"),"important");else{let{y:e}=(0,o.m)(u.current||n.current);null===(r=u.current||n.current)||void 0===r||r.style.setProperty("transform","translateY(".concat(e,"px)"),"important")}s.current&&requestAnimationFrame(translateY)}},initialize=e=>{i.current=e.touches[0].pageY},calculateDelta=e=>{if(e.stopPropagation(),e.preventDefault(),c.current=e.touches[0].pageY,a.current=c.current-i.current,!s.current&&t(a.current)){var r;d.current=(0,o.m)(u.current||n.current).y,s.current=!0,null===(r=u.current||n.current)||void 0===r||r.dispatchEvent(f)}t(a.current)||(s.current=!1,i.current=e.touches[0].pageY)},fireSwipeMotion=e=>{e.stopPropagation(),e.preventDefault(),translateY()},fireCustomTouchEnd=n=>{s.current=!1,t(a.current)&&(null==e||e(a.current)),a.current=0};if(null!==n.current)return n.current.addEventListener("touchstart",initialize),n.current.addEventListener("touchmove",calculateDelta),null===(r=u.current||n.current)||void 0===r||r.addEventListener("swipe",fireSwipeMotion),null===(l=u.current||n.current)||void 0===l||l.addEventListener("touchend",fireCustomTouchEnd),()=>{var e,t,r,l;null===(e=n.current)||void 0===e||e.removeEventListener("touchstart",initialize),null===(t=n.current)||void 0===t||t.removeEventListener("touchmove",calculateDelta),null===(r=u.current||n.current)||void 0===r||r.removeEventListener("swipe",fireSwipeMotion),null===(l=u.current||n.current)||void 0===l||l.removeEventListener("touchend",fireCustomTouchEnd)}}),{swipeRef:n,targetRef:u}}}}]);